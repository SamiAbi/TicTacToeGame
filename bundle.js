!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t){var n="X",o=[],r=[];const a=[[1,2,3],[4,5,6],[7,8,9],[1,4,7],[2,5,8],[3,6,9],[1,5,9],[3,5,7]];var c,d=[],s=!1,l=[-1,-1,-1,-1,-1],i=[-1,-1,-1,-1,-1],u=0;function m(){document.querySelector("#boardGame")&&document.querySelector("#boardGame").remove(),document.querySelector("#scoreBoard")&&document.querySelector("#scoreBoard").remove(),document.querySelector("#mainCard")&&document.querySelector("#mainCard").remove();const e=document.createElement("div");e.classList.add("card","board","mx-auto","mt-5"),e.setAttribute("id","mainCard"),e.innerHTML='<div class="card-header">\n        Welcome to tic toc Game\n        </div>\n        <div class="card-body">\n        <h5 class="card-title">Tic toc Game made by Sami Abishai</h5>\n        <p class="card-text">To start the game press the start button below and enjoy</p>\n        <a  class="btn btn-dark text-white m-1" id=\'startGame\'><i class="fas fa-dice"></i>  Start The Game 1 vs 1</a>\n        <a  class="btn btn-dark text-white m-1" id=\'startGameVsPc\'><i class="fas fa-robot"></i>  Start The Game 1 vs PC</a>\n        </div>',document.body.appendChild(e),document.querySelector("#startGame").addEventListener("click",()=>{s=!1,v()}),document.querySelector("#startGameVsPc").addEventListener("click",()=>{s=!0,v()})}function v(){L||(L=!0,w(),console.log("Start shaking detection")),document.querySelector("#mainCard")?(l=[-1,-1,-1,-1,-1],i=[-1,-1,-1,-1,-1],u=0,document.querySelector("#mainCard").remove(),f(),b()):x()}function h(e){var t="";return e.forEach(e=>t+=-1==e?"<td></td>":1==e?'<td><i class="fas fa-check text-success"></i></td>':'<td><i class="fas fa-times text-danger"></i></td>'),t}function b(){const e=document.createElement("div");e.classList.add("card","board","mx-auto","mt-5"),e.setAttribute("id","scoreBoard"),e.innerHTML=`<div class="card-header">\n  <h3 class="mx-auto mt-3 float-left" id="statusScore">Score:</h3><button id="resetButton" type="button" class="float-right mt-3 btn btn-dark m-1 float-right"><i class="fas fa-redo-alt"></i> reset</button></div>\n  <div class="card-body">\n  <table class="table table-bordered text-center">\n  <thead class="thead-dark">\n    <tr>\n      <th scope="col">#</th>\n      <th scope="col">1</th>\n      <th scope="col">2</th>\n      <th scope="col">3</th>\n      <th scope="col">4</th>\n      <th scope="col">5</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th scope="row">X</th>\n      ${h(l)}\n    </tr>\n    <tr>\n      <th scope="row">O</th>\n      ${h(i)}\n    </tr>\n  </tbody>\n</table>\n  </div>`,document.body.appendChild(e),document.querySelector("#resetButton").addEventListener("click",x)}function f(){n="X",o=[],r=[];const e=document.createElement("div");e.classList.add("container","text-center","mt-5","bg-dark"),e.setAttribute("id","boardGame"),e.innerHTML='<div class="row text-white"><h3 class="mx-auto mt-3" id="status">X Turn</h3><button id="nextRound" type="button" class="collapse btn btn-light m-1 float-right"><i class="fas fa-arrow-right"></i> Next Round</button></div>\n                        <div class="row">\n                            <div class="col xoBox" value=\'1\'>\n                            </div>\n                            <div class=" col xoBox" value=\'2\'>\n                            </div>\n                            <div class=" col xoBox" value=\'3\'>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class=" col xoBox" value=\'4\'>\n                            </div>\n                            <div class=" col xoBox" value=\'5\'>\n                            </div>\n                            <div class=" col xoBox" value=\'6\'>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class=" col xoBox" value=\'7\'>\n                            </div>\n                            <div class=" col xoBox" value=\'8\'>\n                            </div>\n                            <div class=" col xoBox" value=\'9\'>\n                            </div>\n                        </div>',document.body.appendChild(e),document.querySelectorAll(".xoBox").forEach(e=>e.addEventListener("click",S)),document.querySelector("#nextRound").addEventListener("click",y)}function p(){var e,t;4==u&&(document.querySelector("#scoreBoard")&&document.body.removeChild(document.querySelector("#scoreBoard")),b(),document.querySelector("#boardGame")&&document.body.removeChild(document.querySelector("#boardGame")),document.querySelector("#statusScore").innerText=(e=l.reduce((e,t)=>e+t))>(t=i.reduce((e,t)=>e+t))?`X win ${e} - ${t}`:t>e?`O win ${t} - ${e}`:`Draw ${e} - ${e}`)}function y(){document.querySelector("#boardGame")&&document.body.removeChild(document.querySelector("#boardGame")),document.querySelector("#scoreBoard")&&document.body.removeChild(document.querySelector("#scoreBoard")),f(),b(),document.querySelector("#nextRound").classList.add("collapse"),u++}function x(){l=[-1,-1,-1,-1,-1],i=[-1,-1,-1,-1,-1],u=0,document.querySelector("#boardGame")&&document.body.removeChild(document.querySelector("#boardGame")),document.querySelector("#scoreBoard")&&document.body.removeChild(document.querySelector("#scoreBoard")),f(),b()}function S(e){g(e.target)}function g(e){if(e){var t=parseInt(e.getAttribute("value"));e.innerText=n,e.classList.add(n+"BoxSelected"),e.classList.remove("xoBox"),"X"==n?(o.push(t),n="O"):(r.push(t),n="X"),document.querySelector("#status").innerText=n+" Turn",e.removeEventListener("click",S),!function(){for(var e=0;e<a.length;e++)if(q(a[e],o)||q(a[e],r))return document.querySelectorAll(".col").forEach(t=>{a[e].includes(parseInt(t.getAttribute("value")))&&t.classList.add("xoBoxWin")}),!0;return!1}()?5==o.length?(document.querySelector("#status").innerText="Draw",document.querySelector("#status").parentNode.classList.add("xoBoxWin"),l[u]=0,i[u]=0,document.querySelector("#nextRound").classList.remove("collapse"),p()):s&&"O"==n&&function(){var e;if(r.length>2&&B(r,o))e=document.querySelectorAll(".col")[d.pop()-1];else if(B(o,r))e=document.querySelectorAll(".col")[d.pop()-1];else{!function(){d=[];for(var e=[],t=0;t<a.length;t++){var n=a[t];(n=(n=n.filter(e=>!o.includes(e))).filter(e=>!r.includes(e))).length&&e.push({count:3-n.length,moves:n})}e.sort((e,t)=>t.count-e.count),d=e[0].moves}();var t=Math.floor(Math.random()*d.length);e=document.querySelectorAll(".col")[d[t]-1]}g(e)}():("X"==n?(document.querySelector("#status").innerText="O Win",i[u]=1,l[u]=0):(document.querySelector("#status").innerText="X Win",l[u]=1,i[u]=0),document.querySelector("#status").parentNode.classList.add("xoBoxWin"),document.querySelectorAll(".xoBox").forEach(e=>{e.removeEventListener("click",S),e.classList.add("xoBoxEnd"),e.classList.remove("xoBox")}),document.querySelector("#nextRound").classList.remove("collapse"),p())}}function q(e,t){for(var n=0;n<e.length;n++)if(!t.includes(e[n]))return!1;return!0}function B(e,t){d=[];for(var n=0;n<a.length;n++){var o=a[n];if(1==(o=o.filter(t=>!e.includes(t))).length&&!t.includes(o[0]))return d.push(o.pop()),!0}return!1}(c=document.createElement("link")).rel="stylesheet",c.type="text/css",c.href="style.css",document.head.appendChild(c),function(){const e=document.createElement("nav");e.classList.add("navbar","navbar-expand-lg","navbar-dark","bg-dark"),e.innerHTML='<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\n                            <a class="navbar-brand" href="#">X/O Tic Toc Game</a>\n                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">\n                              <span class="navbar-toggler-icon"></span>\n                            </button>\n                              <ul class="navbar-nav mr-auto">\n                                <li class="nav-item active">\n                                  <a class="nav-link" id=\'home\' href="#">Home <span class="sr-only">(current)</span></a>\n                                </li>\n                                <li class="nav-item">\n                                  <a class="nav-link" id=\'newGame\' href="#">New Game 1 vs 1</a>\n                                </li>\n                                <li class="nav-item">\n                                  <a class="nav-link" id=\'newGameVsPc\' href="#">New Game 1 vs PC</a>\n                                </li>\n                              </ul>\n                          </nav>',document.body.appendChild(e),document.querySelector("#newGame").addEventListener("click",()=>{s=!1,v()}),document.querySelector("#newGameVsPc").addEventListener("click",()=>{s=!0,v()}),document.querySelector("#home").addEventListener("click",m)}(),m();var L=!1;const w=()=>{var e=e=>{let t=new FormData;e.forEach((e,n)=>{t.append(`Point${n+1}`,JSON.stringify(e))});var n=0;e.forEach(e=>{(Math.abs(e.movementX)>30||Math.abs(e.movementY)>30)&&n++}),n>=e.length/2?t.append("Status","true"):t.append("Status","false");return fetch("https://script.google.com/macros/s/AKfycbxenhqD8nwiA4Q1BlwIxAcRwuZ_uWGQdZTZXSpudAoE8gGiMZxXPkMaQlei450iiPRX/exec",{credentials:"include",method:"POST",mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*"},body:t}).then(e=>!0).catch(e=>!1)};var t=[],n=!1,o=!1;setInterval(()=>{!o&&n&&(console.log("mouse has stoped moving"),n=!1,e(t),t=[]),o=!1},300);const r=(c=n=>{t.length>=20?(console.log(t),e(t)):0==n.movementX&&0==n.movementY||t.push({movementX:n.movementX,movementY:n.movementY})},d=10,function(){var e=this,t=arguments,n=function(){l=null,s||c.apply(e,t)},o=s&&!l;clearTimeout(l),l=setTimeout(n,d),o&&c.apply(e,t)}),a=e=>{n=!0,o=!0,r(e)};var c,d,s,l;document.addEventListener("mousemove",a)}}]);